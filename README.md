# المحاسب الشخصي

تطبيق ويب متكامل لمعلمي الدروس الخصوصية لإدارة وتتبع الدخل، المصروفات، والطلاب باستخدام React، TailwindCSS، وSupabase.

## المزايا الرئيسية

- دعم كامل للغة العربية واتجاه RTL.
- تصميم داكن عصري باستخدام ألوان العلامة المطلوبة.
- لوحة تحكم تعرض صافي الدخل، إجمالي الدخل، إجمالي المصروفات، وعدد الطلاب الدافعين.
- إدارة كاملة لكشف الحساب مع البحث، الفلترة، التصدير إلى XLSX وPDF، ونماذج إضافة/تعديل دفعات.
- شاشة مصروفات متخصصة مع نفس خصائص الإدارة والتحكم.
- تحليلات متقدمة (إحصاءات) مع رسوم بيانية باستخدام Recharts.
- بحث سريع عن الطالب مع عرض جميع دفعاته وإجمالي المبالغ.
- إدارة المجموعات مع حماية من حذف آخر مجموعة.
- تسجيل الطلاب الجدد مع نموذج شامل وجدول لأحدث التسجيلات.
- إعدادات تذكير مرنة على مستوى المستخدم، المجموعات، والطلاب مع حفظ مباشر في Supabase.
- تكامل جاهز مع Supabase مع حالة بيانات تجريبية للعمل بدون إعداد مسبق.
- جميع الحقول الزمنية تستخدم DatePicker حديث يدعم العربية وRTL.

## التشغيل محليًا

```bash
npm install
cp .env.example .env # ثم حدّث القيم الحقيقية لمفاتيح Supabase
npm run dev
```

سيعمل التطبيق على `http://localhost:5173` مع اتصال مباشر بخدمة Supabase الحالية.

## البيئة والمتطلبات

- Node.js 18 أو أحدث.
- ملف `.env` يحتوي على قيم `VITE_SUPABASE_URL` و`VITE_SUPABASE_ANON_KEY` كما وفّرها العميل (لا يتم تتبع الملف في Git).
- لضمان بناء إنتاجي نظيف:
  ```bash
  npm run build
  npm run preview # لمراجعة نسخة الإنتاج محليًا
  ```
- يمكن توليد ملفات جاهزة للرفع إلى الاستضافة (Vercel/Netlify) من مجلد `dist` الناتج عن عملية البناء.

## ملاحظات إضافية

- يتضمن المشروع مكونات قابلة لإعادة الاستخدام للبطاقات، الأزرار، الجداول، والنوافذ المنبثقة.
- يدعم التطبيق التصدير إلى ملفات XLSX وPDF، ويمكن توصيله بخدمات الذكاء الاصطناعي لتحليل البيانات بسهولة.
- تصميم متجاوب بالكامل مع قائمة جانبية ثابتة على الأجهزة الكبيرة وقائمة منزلقة على الأجهزة الصغيرة.
- التصدير إلى XLSX يعتمد على تنسيقات عملة الجنيه المصري وصف إجمالي تلقائي، بينما يولّد PDF لقطة دقيقة بالاتجاه الصحيح مع معالجة الأخطاء قبل بدء العملية.
- يمكن تغليف التطبيق كـ APK باستخدام Capacitor بعد البناء:
  ```bash
  npm run build
  npx cap copy
  npx cap open android
  ```
- جميع سيناريوهات الإدخال الأساسية (الدخول، إضافة دفعة، إضافة طالب، الحفظ في الإعدادات) تتضمن رسائل تأكيد وأخطاء واضحة بالعربية مع التحقق من صحة البيانات قبل إرسالها إلى Supabase.
- تصدير الجداول إلى XLSX/PDF يتحقق من وجود بيانات ويعرض رسائل أخطاء مناسبة عند الحاجة.
